"use strict";(self.webpackChunkjet_docs=self.webpackChunkjet_docs||[]).push([[8006],{2976:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var r=i(4848),s=i(8453);const t={},o="Production Setup Guide",a={id:"setup/setup-production",title:"Production Setup Guide",description:"This document outlines the steps to deploy the Jet Admin application in a production environment using Docker and Docker Compose.",source:"@site/docs/setup/setup-production.md",sourceDirName:"setup",slug:"/setup/setup-production",permalink:"/jet-admin/docs/setup/setup-production",draft:!1,unlisted:!1,editUrl:"https://github.com/jet-labs/jet-admin/tree/main/docs/setup/setup-production.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Backend Local Development",permalink:"/jet-admin/docs/setup/setup-backend"},next:{title:"Application concepts",permalink:"/jet-admin/docs/category/application-concepts"}},l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"1. Environment Configuration",id:"1-environment-configuration",level:2},{value:"1.1 Required Services",id:"11-required-services",level:3},{value:"1.2 Configure Environment Variables",id:"12-configure-environment-variables",level:3},{value:"2. Deployment Setup",id:"2-deployment-setup",level:2},{value:"2.1 Build and Run",id:"21-build-and-run",level:3},{value:"2.2 Database Initialization",id:"22-database-initialization",level:3},{value:"3. Network Configuration",id:"3-network-configuration",level:2},{value:"3.1 Port Mapping",id:"31-port-mapping",level:3},{value:"3.2 CORS Settings",id:"32-cors-settings",level:3},{value:"4. Monitoring &amp; Logging",id:"4-monitoring--logging",level:2},{value:"4.1 Log Configuration",id:"41-log-configuration",level:3},{value:"4.2 Process Management",id:"42-process-management",level:3},{value:"5. Security Best Practices",id:"5-security-best-practices",level:2},{value:"6. Maintenance Operations",id:"6-maintenance-operations",level:2},{value:"6.1 Database Backups",id:"61-database-backups",level:3},{value:"6.2 Application Updates",id:"62-application-updates",level:3},{value:"7. Troubleshooting",id:"7-troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"production-setup-guide",children:"Production Setup Guide"}),"\n",(0,r.jsx)(n.p,{children:"This document outlines the steps to deploy the Jet Admin application in a production environment using Docker and Docker Compose."}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Docker and Docker Compose installed"}),"\n",(0,r.jsx)(n.li,{children:"Node.js 18+ (for local development only)"}),"\n",(0,r.jsx)(n.li,{children:"PostgreSQL database (self-hosted or managed service)"}),"\n",(0,r.jsx)(n.li,{children:"Firebase and Supabase credentials"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"1-environment-configuration",children:"1. Environment Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"11-required-services",children:"1.1 Required Services"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Firebase"}),": Create a project and obtain:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"API Key"}),"\n",(0,r.jsx)(n.li,{children:"Auth Domain"}),"\n",(0,r.jsx)(n.li,{children:"Project ID"}),"\n",(0,r.jsx)(n.li,{children:"Storage Bucket"}),"\n",(0,r.jsx)(n.li,{children:"Messaging Sender ID"}),"\n",(0,r.jsx)(n.li,{children:"App ID"}),"\n",(0,r.jsx)(n.li,{children:"Measurement ID"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Supabase"}),": Create a project and obtain:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Project URL"}),"\n",(0,r.jsx)(n.li,{children:"Anonymous API Key"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"PostgreSQL"}),": Create a production database and obtain connection URL."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"12-configure-environment-variables",children:"1.2 Configure Environment Variables"}),"\n",(0,r.jsxs)(n.p,{children:["Update the ",(0,r.jsx)(n.code,{children:"docker-compose.yml"})," with your production values:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"environment:\r\n  # Firebase Configuration\r\n  - VITE_FIREBASE_API_KEY=your_firebase_api_key\r\n  - VITE_FIREBASE_AUTH_DOMAIN=your_firebase_auth_domain\r\n  - VITE_FIREBASE_PROJECT_ID=your_firebase_project_id\r\n  - VITE_FIREBASE_STORAGE_BUCKET=your_storage_bucket\r\n  - VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id\r\n  - VITE_FIREBASE_APP_ID=your_app_id\r\n  - VITE_FIREBASE_MEASUREMENT_ID=your_measurement_id\r\n  \r\n  # Supabase Configuration\r\n  - VITE_SUPABASE_URL=your_supabase_url\r\n  - VITE_SUPABASE_KEY=your_supabase_key\r\n  \r\n  # Database Configuration\r\n  - DATABASE_URL=postgresql://user:password@host:port/dbname\r\n\r\n  # AI Configuration\r\n  - GEMINI_API_KEY=your_gemini_api_key\r\n  \r\n  # Security Configuration\r\n  - JWT_ACCESS_TOKEN_SECRET=strong_secret_here\r\n  - JWT_REFRESH_TOKEN_SECRET=strong_secret_here\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"2-deployment-setup",children:"2. Deployment Setup"}),"\n",(0,r.jsx)(n.h3,{id:"21-build-and-run",children:"2.1 Build and Run"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Clone repository (if applicable)\r\ngit clone https://your-repository-url.git\r\ncd project-directory\r\n\r\n# Build and start containers\r\ndocker-compose up -d --build\n"})}),"\n",(0,r.jsx)(n.h3,{id:"22-database-initialization",children:"2.2 Database Initialization"}),"\n",(0,r.jsx)(n.p,{children:"The system will automatically:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Wait for PostgreSQL connection"}),"\n",(0,r.jsx)(n.li,{children:"Run database migrations"}),"\n",(0,r.jsxs)(n.li,{children:["Seed initial data (if ",(0,r.jsx)(n.code,{children:"SEED_DATABASE=true"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"To disable seeding:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"environment:\r\n  - SEED_DATABASE=false\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3-network-configuration",children:"3. Network Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"31-port-mapping",children:"3.1 Port Mapping"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Service"}),(0,r.jsx)(n.th,{children:"Container Port"}),(0,r.jsx)(n.th,{children:"Host Port"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Backend API"}),(0,r.jsx)(n.td,{children:"8090"}),(0,r.jsx)(n.td,{children:"8090"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Frontend"}),(0,r.jsx)(n.td,{children:"80"}),(0,r.jsx)(n.td,{children:"3000"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"32-cors-settings",children:"3.2 CORS Settings"}),"\n",(0,r.jsx)(n.p,{children:"Update CORS whitelist for production:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"environment:\r\n  - CORS_WHITELIST=https://your-production-domain.com,https://admin.your-domain.com\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"4-monitoring--logging",children:"4. Monitoring & Logging"}),"\n",(0,r.jsx)(n.h3,{id:"41-log-configuration",children:"4.1 Log Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"environment:\r\n  - SYSLOG_HOST=your-log-server.com\r\n  - LOG_RETENTION=30  # Days to keep logs\r\n  - LOG_FILE_SIZE=10  # Max log file size in MB\n"})}),"\n",(0,r.jsx)(n.h3,{id:"42-process-management",children:"4.2 Process Management"}),"\n",(0,r.jsx)(n.p,{children:"The application uses PM2 process manager. Customize PM2 configuration in:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'// apps/backend/ecosystem.config.js\r\nmodule.exports = {\r\n  apps: [{\r\n    name: "jet-admin",\r\n    script: "src/index.js",\r\n    instances: "max",\r\n    autorestart: true\r\n  }]\r\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"5-security-best-practices",children:"5. Security Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"SSL Configuration"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add SSL certificates to Nginx configuration"}),"\n",(0,r.jsxs)(n.li,{children:["Update ",(0,r.jsx)(n.code,{children:"nginx.conf"})," for HTTPS:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-nginx",children:"listen 443 ssl;\r\nssl_certificate /path/to/cert.pem;\r\nssl_certificate_key /path/to/key.pem;\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Secret Rotation"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Rotate JWT secrets regularly"}),"\n",(0,r.jsx)(n.li,{children:"Use Docker secrets for sensitive credentials in production"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Firewall Rules"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Only expose ports 80 (HTTPS) and 443 (HTTPS)"}),"\n",(0,r.jsx)(n.li,{children:"Restrict database access to application servers"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"6-maintenance-operations",children:"6. Maintenance Operations"}),"\n",(0,r.jsx)(n.h3,{id:"61-database-backups",children:"6.1 Database Backups"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker exec jet-admin-container \\\r\n  pg_dump -U postgresuser -h dbhost -p 5432 dbname > backup.sql\n"})}),"\n",(0,r.jsx)(n.h3,{id:"62-application-updates",children:"6.2 Application Updates"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Update workflow\r\ngit pull origin main\r\ndocker-compose down\r\ndocker-compose up -d --build\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"7-troubleshooting",children:"7. Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Database Connection Failures"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Test database connectivity\r\ndocker exec jet-admin-container \\\r\n  pg_isready -h your-db-host -p 5432 -U your-db-user\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Frontend Not Loading"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check nginx logs\r\ndocker exec jet-admin-container tail -f /var/log/nginx/error.log\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Missing Environment Variables"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Verify container environment\r\ndocker exec jet-admin-container env\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Important"}),": Always test configuration changes in a staging environment before deploying to production. Monitor application performance and set up proper alerting for critical services."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var r=i(6540);const s={},t=r.createContext(s);function o(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);